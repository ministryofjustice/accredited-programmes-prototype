{% extends "layouts/main.html" %}

{% block pageTitle %}
Building Choices: moderate intensity - {{ serviceName }} - GOV.UK Prototype Kit
{% endblock %}

{% block header %}
{% include "/includes/community/v3/head-no-nav.html" %}
{% endblock %}

{% block beforeContent %}
<nav class="clear-right">
	<a href="../home"
		class="govuk-link govuk-link--no-visited-state govuk-!-margin-top-3 govuk-!-margin-bottom-8 float-right">Go to
		Accredited Programmes homepage</a>
</nav>
{% endblock %}

{% block content %}
<div class="govuk-grid-row clear">
	<div class="govuk-grid-column-full">
		<div class="moj-page-header-actions clear">
			<div class="moj-page-header-actions__title">
				<span class="govuk-caption-xl">North East</span>
				<h1 class="govuk-heading-xl">BCCDD1</h1>
			</div>
			<div class="moj-page-header-actions__actions">
				<div class="moj-button-group moj-button-group--inline govuk-!-margin-top-6">
					<a href="group-list" class="govuk-button moj-button-menu__item govuk-button--secondary">Back to group list</a>
				</div>
			</div>
		</div>

<div class="govuk-grid-row">
	<div class="govuk-grid-column-full">

		<nav class="moj-sub-navigation govuk-!-margin-bottom-4" aria-label="Sub navigation">
			<ul class="moj-sub-navigation__list">
				<li class="moj-sub-navigation__item">
					<a class="moj-sub-navigation__link" href=" ">Group overview</a>
				</li>
				<li class="moj-sub-navigation__item">
					<a class="moj-sub-navigation__link" aria-current="page" href="group-details-allocated-ur">Allocations</a>
				</li>
				<li class="moj-sub-navigation__item">
					<a class="moj-sub-navigation__link" href="group-schedule-overview">Schedule overview</a>
				</li>
			</ul>
		</nav>
	</div>
</div>

<div class="govuk-grid-row govuk-!-margin-top-5">
	<div class="govuk-grid-column-two-thirds">
		<div class="govuk-summary-card">
			<div class="govuk-summary-card__title-wrapper">
				<h2 class="govuk-summary-card__title">Group information</h2>
				<ul class="govuk-summary-card__actions">
					<li class="govuk-summary-card__action">
					  	<a class="govuk-link" href=" ">Edit<span class="govuk-visually-hidden"> BCCDD1</span></a>
					</li>
				</ul>
			</div>
			<div class="govuk-summary-card__content">
				<dl class="govuk-summary-list">
					<div class="govuk-summary-list__row">
						<dt class="govuk-summary-list__key">Delivery location</dt>
						<dd class="govuk-summary-list__value">Darlington: 11 Woodland Road</dd>
					</div>
					<div class="govuk-summary-list__row">
						<dt class="govuk-summary-list__key">Treatment Manager</dt>
						<dd class="govuk-summary-list__value">Chloe Pascal</dd>
					</div>
					<div class="govuk-summary-list__row">
						<dt class="govuk-summary-list__key">Facilitators</dt>
						<dd class="govuk-summary-list__value">Harpreet Singh, Tom Bassett</dd>
					</div>
					<div class="govuk-summary-list__row">
						<dt class="govuk-summary-list__key">Cover facilitators</dt>
						<dd class="govuk-summary-list__value">Tom Saunders</dd>
					</div>
					<div class="govuk-summary-list__row">
						<dt class="govuk-summary-list__key">Cohort</dt>
						<dd class="govuk-summary-list__value">General offence</dd>
					</div>
					<div class="govuk-summary-list__row">
						<dt class="govuk-summary-list__key">Sex</dt>
						<dd class="govuk-summary-list__value">Male</dd>
					</div>
					<div class="govuk-summary-list__row">
						<dt class="govuk-summary-list__key">Allocated</dt>
						<dd class="govuk-summary-list__value">0 of 10</dd>
					</div>
				</dl>
			</div>
		 </div>
	</div>
	<div class="govuk-grid-column-one-third">
		<div class="govuk-summary-card">
			<div class="govuk-summary-card__title-wrapper">
				<h2 class="govuk-summary-card__title">Schedule overview</h2>
				<ul class="govuk-summary-card__actions">
					<li class="govuk-summary-card__action">
					  	<a class="govuk-link" href="#">Edit<span class="govuk-visually-hidden"> Schedule overview</span></a>
					</li>
				</ul>
			</div>
	<div class="govuk-summary-card__content">
		<dl class="govuk-summary-list">
		<div class="govuk-summary-list__row">
			<dt class="govuk-summary-list__key" style="width: 40%">Start date</dt>
				<dd class="govuk-summary-list__value">10 Nov 2025</dd>
				</div>
				<div class="govuk-summary-list__row" style="border-bottom: 1px solid #b1b4b6">
					<dt class="govuk-summary-list__key">End date</dt>
					<dd class="govuk-summary-list__value">19 Feb 2026</dd>
				</div>
				<div class="govuk-summary-list__row">
					<dt class="govuk-summary-list__key">Time of sessions</dt>
					<dd class="govuk-summary-list__value">
						<ul class="govuk-list">
							<li>Mondays 9.30am to midday</li>
							<li>Thursdays 2.30pm to 5pm</li>
						</ul>
					</dd>
				</div>
				</dl>
			</div>
		</div>
	</div>
</div>

<div class="govuk-grid-row clear">
	<div class="govuk-grid-column-full">
		<hr class="govuk-section-break govuk-section-break--xl govuk-section-break--visible">
		<h2 class="govuk-heading-l">Allocations and waitlist</h2>
	</div>
</div>

<div class="govuk-grid-row">
	<div class="govuk-grid-column-one-quarter">
		<div class="moj-filter">
			<div class="moj-filter__header">
				<div class="moj-filter__header-title">
					<h2 class="govuk-heading-m govuk-!-padding-top-0">Filters</h2>
				</div>
			</div>
		</div>
		<div class="moj-filter__content">
			<div class="moj-filter__options">
				<div class="govuk-button-group">
					<button type="submit" class="govuk-button" data-module="govuk-button">Apply filters</button>
					<a class="govuk-link govuk-link--no-visited-state" href="#">Clear filters</a>
				</div>
				<div class="govuk-form-group">
					<label class="govuk-label govuk-label--s" for="search-name-crn">Group code</label>
					<input class="govuk-input" id="search-name-crn" name="search-name-crn" type="text">
				</div>				
			</div>
		</div>
	</div>

	<div class="govuk-grid-column-three-quarters">

		{% if showBanner %}
		<div role="region" class="moj-alert moj-alert--success" aria-label="success: Person removed successfully" data-module="moj-alert" data-dismissible="true">
			<div>
			  	<svg class="moj-alert__icon" role="presentation" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" height="30" width="30">
					<path d="M11.2869 24.6726L2.00415 15.3899L4.62189 12.7722L11.2869 19.4186L25.3781 5.32739L27.9958 7.96369L11.2869 24.6726Z" fill="currentColor" />
			  	</svg>
			</div>
				{% if data['choose-referral-status'] == "deprioritised" %}
					<div class="moj-alert__content">Alex River was removed from this group. Their referral status is now Deprioritised.</div>
				{% elseif data['choose-referral-status'] == "recall" %}
					<div class="moj-alert__content">Alex River was removed from this group. Their referral status is now Recall.</div>
				{% elseif data['choose-referral-status'] == "return-to-court" %}
					<div class="moj-alert__content">Alex River was removed from this group. Their referral status is now Return to Court.</div>
				{% else %}
					<div class="moj-alert__content">Alex River was added to this group. Their referral status is now Scheduled.</div>
				{% endif %}
			<div class="moj-alert__action">
			  <button class="moj-alert__dismiss" hidden>Dismiss</button>
			</div>
		</div>
		{% endif %}

		<nav class="moj-sub-navigation govuk-!-margin-bottom-4" aria-label="Sub navigation">
			<ul class="moj-sub-navigation__list">
				<li class="moj-sub-navigation__item">
					<a class="moj-sub-navigation__link" aria-current="page" href="group-details-allocated-ur">Allocated (0)</a>
				</li>
				<li class="moj-sub-navigation__item">
					<a class="moj-sub-navigation__link" href="group-details-waitlist-ur">Waitlist (52)</a>
				</li>
			</ul>
		</nav>
		<p class="govuk-body-s govuk-!-text-align-right govuk-!-margin-bottom-3">
			{% if showAllocated %}
				Showing <strong>1</strong> to <strong>1</strong> of <strong>1</strong> result
			{% else %}
				Showing <strong>0</strong> results
			{% endif %}
		</p>

<!--- Form action simply redirects users to the remove from a group page -->
{% if showAllocated %}
<form action="remove-from-group" method="post">
	<table class="govuk-table" style="max-width:70%;" data-module="moj-sortable-table">
		<thead class="govuk-table__head">
			<tr class="govuk-table__row">
				<th class="govuk-table__header" style="width: 5%"></th>
				<th scope="col" class="govuk-table__header" aria-sort="none">Name and CRN</th>
				<th scope="col" class="govuk-table__header" aria-sort="none">Sentence end date</th>
				<th scope="col" class="govuk-table__header" aria-sort="none">Referral status</th>
			</tr>
		</thead>
	<tbody>
		<tr class="govuk-table__row">
			<td class="govuk-table__cell">
				<div class="govuk-radios govuk-radios--small">
					<div class="govuk-radios__item">
						<input type="radio" class="govuk-radios__input" name="group-allocated" id="allocated-river-alex" value="river-alex">
						<label class="govuk-label govuk-radios__label" for="group-river-alex">
						<span class="govuk-visually-hidden">River, Alex</span>
					</div>
				</div>
			</td>
			<td class="govuk-table__cell">
				<a href="../profiles/referral-details/availability" class="govuk-link govuk-link--no-visited-state">River, Alex</a><br/>X123456</td>
			<td class="govuk-table__cell">20 May 2026<br/>Licence end date</td>
			<td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--blue">Scheduled</strong></td>
			<!-- Version with multiple referral statuses - post-MVP
			<td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--{{referral.referralColour | default('purple')}}">{{referral.referralStatus}}</strong></td>-->
		</tr>
	</tbody>
</table>
	<button type="submit" class="govuk-button" data-module="govuk-button">Remove from group</button>
</form>

<nav class="govuk-pagination" role="navigation" aria-label="results">
	<ul class="govuk-pagination__list">
		<li class="govuk-pagination__item govuk-pagination__item--current">
			<a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 1" aria-current="page">1</a>
		</li>
	</ul>
</nav>

	{% else %}
	<p class="govuk-body-l">There are currently no people allocated to this group.</p>
	{% endif %}

    </div>
	</div>
</div>
{% endblock %}
